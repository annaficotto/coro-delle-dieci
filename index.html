<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self'">
    <title>Coro delle Dieci</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header id="header"></header>
    <main>
        <h1 id="page-title">Coro delle Dieci</h1>
        <p>Benvenuto nel sito del coro!</p>
        
        <section>
            <h2>Calendario delle Prove</h2>
            <iframe src="https://calendar.google.com/calendar/embed?height=600&wkst=2&ctz=Europe%2FRome&mode=AGENDA&showTz=0&src=MGExMGE5NWU0NGUxNmQ2ZmE4NWVkZjE4YTRmYzM3M2QyOTBiMDZjNGFmYjJhODNjZTZiNjhmOTE2OGY5NWJjM0Bncm91cC5jYWxlbmRhci5nb29nbGUuY29t&color=%239E69AF"
            style="border:solid 1px #777" width="700" height="600" frameborder="0" scrolling="no"></iframe>
                    style="border: 0" width="100%" height="800" frameborder="0" scrolling="no">
            </iframe>
        </section>
    </main>
    <footer id="footer"></footer>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Caricamento dinamico di header.html e footer.html
            function loadComponent(id, file) {
                fetch(file)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`Errore nel caricamento di ${file}`);
                        }
                        return response.text();
                    })
                    .then(data => {
                        document.getElementById(id).innerHTML = data;
                    })
                    .catch(error => console.error(`Errore nel caricamento di ${file}:`, error));
            }
            
            loadComponent("header", "header-first.html");
            loadComponent("footer", "footer.html");
            
            // Correzione updatePageTitle
            const titleElement = document.getElementById("page-title");
            if (!titleElement) {
                console.warn("Elemento 'page-title' non trovato. Ritentando...");
                setTimeout(() => {
                    const retryElement = document.getElementById("page-title");
                    if (!retryElement) {
                        console.error("Elemento 'page-title' ancora non trovato!");
                    }
                }, 500);
            }
        });
    </script>
</body>
</html>